{"version":3,"sources":["../../app/routes/router.js"],"names":["app","use","bodyParser","json","Router","port","process","env","PORT","listen","HandleAllRoutes","Validator","UserController","AccountController","TransactionController","post","SignUpValidator","hashPassword","req","res","SignUp","SignInValidator","SignIn","verifyToken","AccountScafold","CreateAccountValidator","createAccount","patch","patchAccountValidator","patchAccount","deleteAccount","transactionScafolld","transactionValidator","processTransaction"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,uBAAWC,IAAX,EAAR;;IAEMC,M;;;AACF,oBAAc;AAAA;;AACV,SAAKJ,GAAL,GAAWA,GAAX;AACH;;;;2BAEM;AACH,UAAMK,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACA,WAAKR,GAAL,CAASS,MAAT,CAAgBJ,IAAhB;AACH;;;;;;;;IAECK,e;;;;;AAEF,6BAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,SAAL,GAAiBA,sBAAjB;AACA,UAAKC,cAAL,GAAsB,IAAIA,2BAAJ,EAAtB;AACA,UAAKC,iBAAL,GAAyB,IAAIA,8BAAJ,EAAzB;AACA,UAAKC,qBAAL,GAA6B,IAAIA,kCAAJ,EAA7B;AALU;AAMb;;;;qCAEgB;AAAA;;AACb,WAAKd,GAAL,CAASe,IAAT,CAAc,sBAAd,EAAsC,KAAKJ,SAAL,CAAeK,eAArD,EAAsEC,wBAAtE,EAAoF,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC9F,QAAA,MAAI,CAACP,cAAL,CAAoBQ,MAApB,CAA2BF,GAA3B,EAAgCC,GAAhC;AACH,OAFD;AAGA,WAAKnB,GAAL,CAASe,IAAT,CAAc,sBAAd,EAAsC,KAAKJ,SAAL,CAAeU,eAArD,EAAsE,UAACH,GAAD,EAAMC,GAAN,EAAc;AAChF,QAAA,MAAI,CAACP,cAAL,CAAoBU,MAApB,CAA2BJ,GAA3B,EAAgCC,GAAhC;AACH,OAFD;AAGA,WAAKnB,GAAL,CAASe,IAAT,CAAc,uBAAd,EAAuCQ,qBAAvC,EAAoDC,0BAApD,EAAoE,KAAKb,SAAL,CAAec,sBAAnF,EAA2G,UAACP,GAAD,EAAMC,GAAN,EAAc;AACrH,QAAA,MAAI,CAACN,iBAAL,CAAuBa,aAAvB,CAAqCR,GAArC,EAA0CC,GAA1C;AACH,OAFD;AAGA,WAAKnB,GAAL,CAAS2B,KAAT,CAAe,aAAf,EAA8B,KAAKhB,SAAL,CAAeiB,qBAA7C,EAAoE,UAACV,GAAD,EAAMC,GAAN,EAAc;AAC9E,QAAA,MAAI,CAACN,iBAAL,CAAuBgB,YAAvB,CAAoCX,GAApC,EAAyCC,GAAzC;AACH,OAFD;AAGA,WAAKnB,GAAL,WAAgB,aAAhB,EAA+B,UAACkB,GAAD,EAAMC,GAAN,EAAc;AACzC,QAAA,MAAI,CAACN,iBAAL,CAAuBiB,aAAvB,CAAqCZ,GAArC,EAA0CC,GAA1C;AACH,OAFD;AAGA,WAAKnB,GAAL,CAASe,IAAT,CAAc,sDAAd,EAAsEgB,+BAAtE,EAA2F,KAAKpB,SAAL,CAAeqB,oBAA1G,EAAgI,UAACd,GAAD,EAAMC,GAAN,EAAc;AAC1I,QAAA,MAAI,CAACL,qBAAL,CAA2BmB,kBAA3B,CAA8Cf,GAA9C,EAAmDC,GAAnD;AACH,OAFD;AAGH;;;;EA7ByBf,M","sourcesContent":["import express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport Validator from '../middlewares/validators';\r\nimport UserController from '../controllers/user_controller';\r\nimport AccountController from '../controllers/Account_controller';\r\nimport TransactionController from '../controllers/transaction_controller';\r\nimport hashPassword from '../middlewares/hashpassword';\r\nimport transactionScafolld from '../middlewares/transactionScafolld';\r\nimport AccountScafold from '../middlewares/AccountScafold';\r\nimport verifyToken from '../middlewares/check-auth';\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\n\r\nclass Router {\r\n    constructor() {\r\n        this.app = app;\r\n    }\r\n\r\n    init() {\r\n        const port = process.env.PORT || 3000;\r\n        this.app.listen(port);\r\n    }\r\n}\r\nclass HandleAllRoutes extends Router {\r\n\r\n    constructor() {\r\n        super();\r\n        this.Validator = Validator;\r\n        this.UserController = new UserController();\r\n        this.AccountController = new AccountController();\r\n        this.TransactionController = new TransactionController();\r\n    }\r\n\r\n    HandleAllRoute() {\r\n        this.app.post('/api/v1/auth/sign-up', this.Validator.SignUpValidator, hashPassword, (req, res) => {\r\n            this.UserController.SignUp(req, res);\r\n        });\r\n        this.app.post('/api/v1/auth/sign-In', this.Validator.SignInValidator, (req, res) => {\r\n            this.UserController.SignIn(req, res);\r\n        });\r\n        this.app.post('/api/v1/auth/accounts', verifyToken, AccountScafold, this.Validator.CreateAccountValidator, (req, res) => {\r\n            this.AccountController.createAccount(req, res);\r\n        });\r\n        this.app.patch('/api/v1/:id', this.Validator.patchAccountValidator, (req, res) => {\r\n            this.AccountController.patchAccount(req, res);\r\n        });\r\n        this.app.delete('/api/v1/:id', (req, res) => {\r\n            this.AccountController.deleteAccount(req, res);\r\n        });\r\n        this.app.post('/api/v1/transactions/:accountNumber/:transactionType', transactionScafolld, this.Validator.transactionValidator, (req, res) => {\r\n            this.TransactionController.processTransaction(req, res);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport {\r\n    Router,\r\n    HandleAllRoutes,\r\n}"],"file":"router.js"}